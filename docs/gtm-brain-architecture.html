<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTM Brain | Intelligence Layer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f7fe;
            color: #1f2937;
            min-height: 100vh;
        }
        
        /* Header */
        .header {
            background: #fff;
            padding: 16px 32px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header h1 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
        }
        
        .header h1 span {
            color: #6b7280;
            font-weight: 400;
        }
        
        .nav-links {
            display: flex;
            gap: 6px;
        }
        
        .nav-links a {
            color: #6b7280;
            text-decoration: none;
            font-size: 0.75rem;
            padding: 6px 12px;
            border-radius: 6px;
            transition: all 0.2s;
        }
        
        .nav-links a:hover {
            color: #1f2937;
            background: #f3f4f6;
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px 24px;
        }
        
        /* Title Section */
        .title-section {
            text-align: center;
            margin-bottom: 24px;
        }
        
        .title-section h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 6px;
        }
        
        .title-section p {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        /* Diagram Container */
        .diagram-container {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
            padding: 40px;
            position: relative;
            overflow: hidden;
        }
        
        /* SVG Diagram */
        .neural-svg {
            width: 100%;
            height: 580px;
            display: block;
        }
        
        /* Node Styles */
        .node {
            cursor: pointer;
            transition: transform 0.2s, filter 0.2s;
        }
        
        .node:hover {
            filter: brightness(1.05);
        }
        
        .node-rect {
            transition: all 0.2s;
        }
        
        .node:hover .node-rect {
            filter: drop-shadow(0 4px 12px rgba(0,0,0,0.15));
        }
        
        .node-label {
            font-family: inherit;
            font-weight: 600;
            pointer-events: none;
        }
        
        .node-sublabel {
            font-family: inherit;
            pointer-events: none;
            opacity: 0.8;
        }
        
        /* Connection Paths */
        .connection {
            fill: none;
            stroke-linecap: round;
            transition: opacity 0.3s, stroke-width 0.3s;
        }
        
        .connection.highlight {
            opacity: 1;
            stroke-width: 3;
        }
        
        /* Detail Panel */
        .detail-panel {
            position: absolute;
            bottom: 24px;
            left: 24px;
            right: 24px;
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
            pointer-events: none;
            z-index: 100;
        }
        
        .detail-panel.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        .detail-panel h4 {
            font-size: 0.9rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }
        
        .detail-panel p {
            font-size: 0.8rem;
            color: #6b7280;
            line-height: 1.5;
        }
        
        .detail-tags {
            display: flex;
            gap: 6px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .detail-tag {
            font-size: 0.65rem;
            padding: 3px 8px;
            background: #f3f4f6;
            border-radius: 4px;
            color: #6b7280;
        }
        
        /* Legend */
        .legend {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 16px;
            padding-top: 14px;
            border-top: 1px solid #e5e7eb;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            color: #6b7280;
        }

        .legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        /* Pipeline Support Section */
        .pipeline-support {
            margin-top: 28px;
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            padding: 24px;
            border: 1px solid #e5e7eb;
        }

        .pipeline-support-title {
            font-size: 1rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 16px;
            text-align: center;
        }

        .support-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .support-section {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 18px;
        }

        .support-section-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .support-badge {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .support-badge.early {
            background: #dbeafe;
            color: #1e40af;
        }

        .support-badge.late {
            background: #dcfce7;
            color: #166534;
        }

        .support-section h5 {
            font-size: 0.9rem;
            color: #1f2937;
            font-weight: 600;
        }

        .support-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .support-list li {
            font-size: 0.78rem;
            color: #4b5563;
            line-height: 1.5;
            padding: 4px 0;
            padding-left: 16px;
            position: relative;
        }

        .support-list li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #8e99e1;
            font-weight: 600;
        }

        .support-highlight {
            color: #8e99e1;
            font-weight: 600;
        }

        /* Footer info */
        .footer-info {
            text-align: center;
            margin-top: 24px;
            padding: 16px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        
        .footer-info p {
            font-size: 0.8rem;
            color: #6b7280;
            line-height: 1.6;
        }
        
        .footer-info strong {
            color: #8e99e1;
        }
        
        /* Page Footer */
        footer {
            text-align: center;
            padding: 24px;
            color: #6b7280;
            font-size: 0.75rem;
        }
        
        footer a {
            color: #8e99e1;
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .support-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>GTM Brain <span>/ Intelligence Layer</span></h1>
        <nav class="nav-links">
            <a href="/account-dashboard">Dashboard</a>
            <a href="/cheat-sheet">Commands</a>
            <a href="/sales-process">Sales Playbook</a>
        </nav>
    </header>
    
    <div class="container">
        <div class="title-section">
            <h2>The Connected Sales Intelligence Layer</h2>
            <p>One hub connecting your conversations, data, and insights</p>
        </div>
        
        <div class="diagram-container">
            <svg class="neural-svg" viewBox="0 0 1000 560" preserveAspectRatio="xMidYMid meet">
                <defs>
                    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000" flood-opacity="0.1"/>
                    </filter>
                    <!-- Arrow markers -->
                    <marker id="arrowPurple" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                        <polygon points="0 0, 8 3, 0 6" fill="#8e99e1"/>
                    </marker>
                    <marker id="arrowGreen" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                        <polygon points="0 0, 8 3, 0 6" fill="#34d399"/>
                    </marker>
                    <marker id="arrowGreenReverse" markerWidth="8" markerHeight="6" refX="1" refY="3" orient="auto">
                        <polygon points="8 0, 0 3, 8 6" fill="#34d399"/>
                    </marker>
                    <marker id="arrowGray" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                        <polygon points="0 0, 8 3, 0 6" fill="#9ca3af"/>
                    </marker>
                    <marker id="arrowSlack" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                        <polygon points="0 0, 8 3, 0 6" fill="#611f69"/>
                    </marker>
                </defs>
                
                <!-- Subtle dot pattern -->
                <pattern id="dots" x="0" y="0" width="24" height="24" patternUnits="userSpaceOnUse">
                    <circle cx="2" cy="2" r="0.6" fill="#d1d5db"/>
                </pattern>
                <rect width="100%" height="100%" fill="url(#dots)" opacity="0.3"/>
                
                <!-- === GTM BRAIN (TOP - CENTERED ABOVE ALL THREE COLUMNS) === -->
                <g class="node" data-node="gtm-brain">
                    <rect class="node-rect" x="250" y="30" width="400" height="100" rx="16" fill="#8e99e1" stroke="#7c8bd4" stroke-width="2" filter="url(#softShadow)"/>
                    <text x="450" y="65" class="node-label" text-anchor="middle" fill="white" font-size="22">GTM Brain</text>
                    <text x="450" y="88" class="node-sublabel" text-anchor="middle" fill="white" font-size="11">Intelligence Layer • Powered by Claude</text>
                    <!-- Sub-components -->
                    <rect x="285" y="100" width="70" height="22" rx="4" fill="rgba(255,255,255,0.2)"/>
                    <text x="320" y="115" text-anchor="middle" fill="white" font-size="8" font-weight="500">Intent Router</text>
                    <rect x="365" y="100" width="70" height="22" rx="4" fill="rgba(255,255,255,0.2)"/>
                    <text x="400" y="115" text-anchor="middle" fill="white" font-size="8" font-weight="500">Query Engine</text>
                    <rect x="445" y="100" width="70" height="22" rx="4" fill="rgba(255,255,255,0.2)"/>
                    <text x="480" y="115" text-anchor="middle" fill="white" font-size="8" font-weight="500">Sync Services</text>
                    <rect x="525" y="100" width="90" height="22" rx="4" fill="rgba(255,255,255,0.2)"/>
                    <text x="570" y="115" text-anchor="middle" fill="white" font-size="8" font-weight="500">Hygiene Flows</text>
                </g>
                
                <!-- Sales Process Doc (reference, top right) -->
                <g class="node" data-node="playbook">
                    <rect class="node-rect" x="700" y="45" width="130" height="50" rx="10" fill="#eef2ff" stroke="#c7d2fe" stroke-width="1" filter="url(#softShadow)"/>
                    <text x="765" y="70" class="node-label" text-anchor="middle" fill="#4338ca" font-size="12">Sales Process</text>
                    <text x="765" y="85" class="node-sublabel" text-anchor="middle" fill="#6366f1" font-size="8">Central GTM resource</text>
                </g>
                <path class="connection" d="M 650 80 L 700 75" stroke="#c7d2fe" stroke-width="1.5" stroke-dasharray="4 3" opacity="0.6"/>
                
                <!-- === CONNECTORS FROM GTM BRAIN WITH ARROWS === -->
                
                <!-- Left connector: Inputs → GTM Brain (arrow pointing INTO brain) -->
                <path class="connection" id="conn-inputs-brain" 
                      d="M 160 200 C 160 160, 350 160, 350 130" 
                      stroke="#8e99e1" stroke-width="2" opacity="0.6" marker-end="url(#arrowPurple)"/>
                <text x="240" y="148" font-size="8" fill="#8e99e1" font-style="italic">questions + transcripts</text>
                
                <!-- Center connector: GTM Brain ↔ Salesforce (bidirectional) -->
                <path class="connection" id="conn-brain-sf-down" 
                      d="M 440 130 L 440 200" 
                      stroke="#34d399" stroke-width="2.5" opacity="0.7" marker-end="url(#arrowGreen)"/>
                <path class="connection" id="conn-brain-sf-up" 
                      d="M 460 200 L 460 130" 
                      stroke="#34d399" stroke-width="2.5" opacity="0.7" marker-end="url(#arrowGreen)"/>
                <text x="480" y="168" font-size="8" fill="#22c55e" font-style="italic">sync</text>
                
                <!-- Right connector: GTM Brain → Outputs (arrow pointing TO outputs) -->
                <path class="connection" id="conn-brain-outputs" 
                      d="M 550 130 C 550 160, 740 160, 740 200" 
                      stroke="#9ca3af" stroke-width="2" opacity="0.6" marker-end="url(#arrowGray)"/>
                <text x="660" y="148" font-size="8" fill="#6b7280" font-style="italic">generates</text>
                
                <!-- === SLACK → SALESFORCE DIRECT CONNECTION === -->
                <path class="connection" id="conn-slack-sf" 
                      d="M 280 305 C 320 305, 350 305, 380 305" 
                      stroke="#611f69" stroke-width="1.8" opacity="0.5" marker-end="url(#arrowSlack)"/>
                <text x="325" y="295" font-size="7" fill="#611f69" font-style="italic">data enrichment</text>
                
                <!-- === THREE COLUMNS BENEATH (CENTERED) === -->
                
                <!-- COLUMN 1: INPUT CHANNELS -->
                <rect x="50" y="200" width="220" height="250" rx="14" fill="#fafbfc" stroke="#e5e7eb" stroke-width="1"/>
                <text x="160" y="225" text-anchor="middle" font-size="10" font-weight="600" fill="#6b7280" letter-spacing="0.5">INPUT CHANNELS</text>
                <text x="160" y="240" text-anchor="middle" font-size="8" fill="#9ca3af">Where data comes in</text>
                
                <!-- Slack -->
                <g class="node" data-node="slack">
                    <rect class="node-rect" x="70" y="260" width="180" height="65" rx="12" fill="#611f69" stroke="#4a154b" stroke-width="1.5" filter="url(#softShadow)"/>
                    <text x="160" y="290" class="node-label" text-anchor="middle" fill="white" font-size="15">Slack</text>
                    <text x="160" y="308" class="node-sublabel" text-anchor="middle" fill="white" font-size="9">@gtm-brain • side channels</text>
                </g>
                
                <!-- Hyprnote -->
                <g class="node" data-node="hyprnote">
                    <rect class="node-rect" x="70" y="340" width="180" height="65" rx="12" fill="#9ca3af" stroke="#6b7280" stroke-width="1.5" filter="url(#softShadow)"/>
                    <text x="160" y="370" class="node-label" text-anchor="middle" fill="white" font-size="14">Hyprnote</text>
                    <text x="160" y="388" class="node-sublabel" text-anchor="middle" fill="white" font-size="9">Meeting transcripts</text>
                </g>
                
                <!-- COLUMN 2: SYSTEM OF RECORD (CENTERED) -->
                <rect x="290" y="200" width="220" height="250" rx="14" fill="#f0fdf4" stroke="#bbf7d0" stroke-width="1"/>
                <text x="400" y="225" text-anchor="middle" font-size="10" font-weight="600" fill="#22c55e" letter-spacing="0.5">SYSTEM OF RECORD</text>
                <text x="400" y="240" text-anchor="middle" font-size="8" fill="#86efac">Source of truth</text>
                
                <!-- Salesforce -->
                <g class="node" data-node="salesforce">
                    <rect class="node-rect" x="310" y="260" width="180" height="160" rx="14" fill="#34d399" stroke="#10b981" stroke-width="1.5" filter="url(#softShadow)"/>
                    <text x="400" y="295" class="node-label" text-anchor="middle" fill="white" font-size="17">Salesforce</text>
                    <text x="400" y="318" class="node-sublabel" text-anchor="middle" fill="white" font-size="9">Accounts • Opportunities</text>
                    <text x="400" y="335" class="node-sublabel" text-anchor="middle" fill="white" font-size="9">Contacts • Contracts</text>
                    <text x="400" y="352" class="node-sublabel" text-anchor="middle" fill="white" font-size="9">Events • Activities</text>
                    <!-- SOQL hygiene indicator -->
                    <rect x="335" y="370" width="130" height="24" rx="6" fill="rgba(255,255,255,0.25)"/>
                    <text x="400" y="386" text-anchor="middle" fill="white" font-size="8" font-weight="500">↔ SOQL Hygiene Sync</text>
                </g>
                
                <!-- COLUMN 3: OUTPUTS -->
                <text x="640" y="225" text-anchor="middle" font-size="10" font-weight="600" fill="#6b7280" letter-spacing="0.5">OUTPUTS</text>
                <text x="640" y="240" text-anchor="middle" font-size="8" fill="#9ca3af">What gets generated</text>
                
                <!-- Reports -->
                <g class="node" data-node="reports">
                    <rect class="node-rect" x="550" y="260" width="180" height="50" rx="10" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1" filter="url(#softShadow)"/>
                    <text x="640" y="284" class="node-label" text-anchor="middle" fill="#374151" font-size="12">Reports</text>
                    <text x="640" y="299" class="node-sublabel" text-anchor="middle" fill="#6b7280" font-size="8">Weekly + On-demand</text>
                </g>
                
                <!-- Campfire -->
                <g class="node" data-node="campfire">
                    <rect class="node-rect" x="550" y="320" width="180" height="50" rx="10" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1" filter="url(#softShadow)"/>
                    <text x="640" y="344" class="node-label" text-anchor="middle" fill="#374151" font-size="12">Campfire</text>
                    <text x="640" y="359" class="node-sublabel" text-anchor="middle" fill="#6b7280" font-size="8">ARR + Finance sync</text>
                </g>
                
                <!-- Dashboard -->
                <g class="node" data-node="dashboard">
                    <rect class="node-rect" x="550" y="380" width="180" height="50" rx="10" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1" filter="url(#softShadow)"/>
                    <text x="640" y="404" class="node-label" text-anchor="middle" fill="#374151" font-size="12">Dashboard</text>
                    <text x="640" y="419" class="node-sublabel" text-anchor="middle" fill="#6b7280" font-size="8">Live pipeline view</text>
                </g>
                
                <!-- === FEEDBACK LOOP (bottom) === -->
                <rect x="100" y="480" width="600" height="45" rx="10" fill="#fefce8" stroke="#fde047" stroke-width="1"/>
                <text x="400" y="502" text-anchor="middle" font-size="11" font-weight="600" fill="#854d0e">↻ Feedback Loop</text>
                <text x="400" y="517" text-anchor="middle" font-size="8" fill="#a16207">GTM Brain responds to Slack queries • Reports delivered to Slack • Pipeline visibility for all</text>
                
                <!-- Feedback arrows -->
                <path class="connection" d="M 160 450 C 160 465, 160 480, 160 480" stroke="#fbbf24" stroke-width="1.5" opacity="0.6"/>
                <path class="connection" d="M 640 450 C 640 465, 640 480, 640 480" stroke="#fbbf24" stroke-width="1.5" opacity="0.6"/>
                
            </svg>
            
            <!-- Detail Panel -->
            <div class="detail-panel" id="detailPanel">
                <h4 id="detailTitle"></h4>
                <p id="detailDesc"></p>
                <div class="detail-tags" id="detailTags"></div>
            </div>
            
            <!-- Legend -->
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-dot" style="background: #8e99e1;"></div>
                    <span>GTM Brain</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #611f69;"></div>
                    <span>Slack</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #9ca3af;"></div>
                    <span>Hyprnote</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #34d399;"></div>
                    <span>Salesforce</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #d1d5db;"></div>
                    <span>Outputs</span>
                </div>
            </div>
        </div>
        
        <!-- Pipeline Support Section -->
        <div class="pipeline-support">
            <div class="pipeline-support-title">How GTM Brain Supports Your Pipeline</div>
            <div class="support-grid">
                <div class="support-section">
                    <div class="support-section-header">
                        <span class="support-badge early">Early → Mid Stage</span>
                        <h5>Building the Foundation</h5>
                    </div>
                    <ul class="support-list">
                        <li><span class="support-highlight">Account ownership</span> clarity—know who owns what instantly</li>
                        <li>Early-stage engagement notes logged directly to accounts</li>
                        <li>Proactively <span class="support-highlight">update Salesforce</span> and create new opportunities as service lines are identified</li>
                        <li>Pipeline stays current <span class="support-highlight">without admin burden</span> on sales reps</li>
                        <li>Reassign transition accounts; initial assignment based on <span class="support-highlight">coverage + geography</span></li>
                        <li>Meeting context captured via Hyprnote and synced to accounts</li>
                    </ul>
                </div>
                <div class="support-section">
                    <div class="support-section-header">
                        <span class="support-badge late">Mid → Close</span>
                        <h5>Accuracy & Handoff</h5>
                    </div>
                    <ul class="support-list">
                        <li>Continued logging: meetings + emails via <span class="support-highlight">Einstein Activity Capture</span></li>
                        <li>Notes synced from Hyprnote if not shared in GTM account planning</li>
                        <li>Account updates shared week-over-week; inputs validated in <span class="support-highlight">weekly BL reviews</span></li>
                        <li>Late-stage confirmation: ACV, term, product, net new $ (renewal vs. new)</li>
                        <li>On close: smart capture + flows for <span class="support-highlight">revenue tagging</span> (project vs. recurring)</li>
                        <li>GTM Brain <span class="support-highlight">contract review</span> + initial draft → syncs to Campfire</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Footer Info -->
        <div class="footer-info">
            <p>
                <strong>One integration layer</strong> connecting Slack questions, meeting notes, and GTM resources to clean Salesforce data, 
                finance reconciliation in Campfire, and live dashboards—even for teammates without Salesforce access.
            </p>
        </div>
    </div>
    
    <footer>
        GTM Brain by Eudia RevOps &bull; <a href="/cheat-sheet">View All Commands</a> &bull; <a href="/account-dashboard">Open Dashboard</a>
    </footer>
    
    <script>
        const nodeDetails = {
            'gtm-brain': {
                title: 'GTM Brain — The Overarching Intelligence Layer',
                desc: 'Sits above all systems as the orchestration layer. Processes questions from Slack, syncs meeting notes from Hyprnote, maintains Salesforce hygiene, and generates reports. All powered by Claude LLM for natural language understanding.',
                tags: ['Intent Router', 'Query Engine', 'Sync Services', 'Hygiene Flows', 'Claude LLM']
            },
            'slack': {
                title: 'Slack — Primary Interface',
                desc: 'Ask @gtm-brain questions in any channel or DM. Side-channel deal threads capture customer context. GTM Brain responds with Salesforce data formatted for quick reading.',
                tags: ['@gtm-brain', 'Side Channels', 'Natural Language', 'Responses Delivered Here']
            },
            'playbook': {
                title: 'Sales Process Doc',
                desc: 'Central GTM reference document. Links to all key resources, process documentation, and commands. Keeps the team aligned.',
                tags: ['Central Resource', 'Process Docs', 'Team Alignment']
            },
            'hyprnote': {
                title: 'Hyprnote — Meeting Capture',
                desc: 'Meeting transcripts are processed by GTM Brain. New contacts are created, events logged, and account context updated automatically.',
                tags: ['Transcripts', 'Contact Creation', 'Event Logging', 'Account Updates']
            },
            'salesforce': {
                title: 'Salesforce — Source of Truth',
                desc: 'GTM Brain reads and writes to Salesforce: Accounts, Opportunities, Contacts, Contracts, Events. Hygiene flows keep data clean. Weekly BL reviews validate accuracy.',
                tags: ['Account Lookup', 'Opp Updates', 'Contact Creation', 'Event Logging', 'SOQL Hygiene']
            },
            'campfire': {
                title: 'Campfire — Finance Sync',
                desc: 'ARR and revenue data synced from Salesforce after deals close. Revenue tagged as project or recurring for finance reporting.',
                tags: ['ARR Tracking', 'Revenue Tagging', 'Finance Integration']
            },
            'reports': {
                title: 'Reports — Weekly + On-Demand',
                desc: 'GTM Brain generates weekly PDFs, pipeline Excel exports, and BL summaries. Delivered to Slack automatically or on request.',
                tags: ['Weekly PDF', 'Excel Exports', 'BL Summaries', 'Slack Delivery']
            },
            'dashboard': {
                title: 'Dashboard — Live Pipeline View',
                desc: 'Real-time pipeline visibility for users without Salesforce access. See stages, accounts, and revenue at a glance.',
                tags: ['Live Data', 'No SF Login Needed', 'Stage Views']
            }
        };
        
        // Hover interactions
        document.querySelectorAll('.node').forEach(node => {
            node.addEventListener('mouseenter', () => {
                const nodeId = node.dataset.node;
                const detail = nodeDetails[nodeId];
                if (detail) {
                    showDetail(detail);
                    highlightConnections(nodeId);
                }
            });
            node.addEventListener('mouseleave', () => {
                hideDetail();
                resetConnections();
            });
        });
        
        function showDetail(detail) {
            const panel = document.getElementById('detailPanel');
            document.getElementById('detailTitle').textContent = detail.title;
            document.getElementById('detailDesc').textContent = detail.desc;
            document.getElementById('detailTags').innerHTML = detail.tags
                .map(t => `<span class="detail-tag">${t}</span>`)
                .join('');
            panel.classList.add('visible');
        }
        
        function hideDetail() {
            document.getElementById('detailPanel').classList.remove('visible');
        }
        
        function highlightConnections(nodeId) {
            const connectionMap = {
                'gtm-brain': ['conn-brain-inputs', 'conn-brain-sf', 'conn-brain-outputs'],
                'slack': ['conn-brain-inputs'],
                'hyprnote': ['conn-brain-inputs'],
                'salesforce': ['conn-brain-sf'],
                'reports': ['conn-brain-outputs'],
                'campfire': ['conn-brain-outputs'],
                'dashboard': ['conn-brain-outputs']
            };
            const connections = connectionMap[nodeId] || [];
            connections.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.classList.add('highlight');
                    el.style.opacity = '1';
                }
            });
        }
        
        function resetConnections() {
            document.querySelectorAll('.connection').forEach(c => {
                c.classList.remove('highlight');
                c.style.opacity = '';
            });
        }
    </script>
</body>
</html>
